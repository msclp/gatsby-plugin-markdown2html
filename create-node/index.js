import showdown from 'showdown';
const converter = new showdown.Converter();
export const onCreateNode = ({
  actions,
  createContentDigest,
  createNodeId,
  node
}, {
  nodeType
}) => {
  const {
    internal: {
      type
    }
  } = node;
  if (type !== nodeType) {
    return;
  }
  const {
    createNode,
    createParentChildLink
  } = actions;
  const htmlNode = {
    id: createNodeId(`${node.id}Html`),
    html: converter.makeHtml(node.body),
    children: [],
    parent: node.id,
    internal: {
      contentDigest: createContentDigest(node),
      type: 'html'
    }
  };
  createNode(htmlNode);
  createParentChildLink({
    parent: node,
    child: htmlNode
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzaG93ZG93biIsImNvbnZlcnRlciIsIkNvbnZlcnRlciIsIm9uQ3JlYXRlTm9kZSIsImFjdGlvbnMiLCJjcmVhdGVDb250ZW50RGlnZXN0IiwiY3JlYXRlTm9kZUlkIiwibm9kZSIsIm5vZGVUeXBlIiwiaW50ZXJuYWwiLCJ0eXBlIiwiY3JlYXRlTm9kZSIsImNyZWF0ZVBhcmVudENoaWxkTGluayIsImh0bWxOb2RlIiwiaWQiLCJodG1sIiwibWFrZUh0bWwiLCJib2R5IiwiY2hpbGRyZW4iLCJwYXJlbnQiLCJjb250ZW50RGlnZXN0IiwiY2hpbGQiXSwic291cmNlcyI6WyIuLi9zcmMvY3JlYXRlLW5vZGUvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ3JlYXRlTm9kZUFyZ3MgfSBmcm9tICdnYXRzYnknXG5pbXBvcnQgc2hvd2Rvd24gZnJvbSAnc2hvd2Rvd24nXG5cbnR5cGUgUGx1Z2luT3B0aW9ucyA9IHtcbiAgbm9kZVR5cGU6IHN0cmluZ1xufVxuXG5jb25zdCBjb252ZXJ0ZXIgPSBuZXcgc2hvd2Rvd24uQ29udmVydGVyKCk7XG5cbmV4cG9ydCBjb25zdCBvbkNyZWF0ZU5vZGUgPSAoe1xuICBhY3Rpb25zLFxuICBjcmVhdGVDb250ZW50RGlnZXN0LFxuICBjcmVhdGVOb2RlSWQsXG4gIG5vZGUsXG59OiBDcmVhdGVOb2RlQXJnczx7IGJvZHk6IHN0cmluZyB9PiwgeyBub2RlVHlwZSB9OiBQbHVnaW5PcHRpb25zKSA9PiB7XG4gIGNvbnN0IHsgaW50ZXJuYWw6IHsgdHlwZSB9fSA9IG5vZGVcblxuICBpZiAodHlwZSAhPT0gbm9kZVR5cGUpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IHsgY3JlYXRlTm9kZSwgY3JlYXRlUGFyZW50Q2hpbGRMaW5rIH0gPSBhY3Rpb25zXG4gIGNvbnN0IGh0bWxOb2RlID0ge1xuICAgIGlkOiBjcmVhdGVOb2RlSWQoYCR7bm9kZS5pZH1IdG1sYCksXG4gICAgaHRtbDogY29udmVydGVyLm1ha2VIdG1sKG5vZGUuYm9keSksXG4gICAgY2hpbGRyZW46IFtdLFxuICAgIHBhcmVudDogbm9kZS5pZCxcbiAgICBpbnRlcm5hbDoge1xuICAgICAgY29udGVudERpZ2VzdDogY3JlYXRlQ29udGVudERpZ2VzdChub2RlKSxcbiAgICAgIHR5cGU6ICdodG1sJyxcbiAgICB9LFxuICB9XG5cbiAgY3JlYXRlTm9kZShodG1sTm9kZSlcbiAgY3JlYXRlUGFyZW50Q2hpbGRMaW5rKHsgcGFyZW50OiBub2RlLCBjaGlsZDogaHRtbE5vZGUgfSlcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBT0EsUUFBUSxNQUFNLFVBQVU7QUFNL0IsTUFBTUMsU0FBUyxHQUFHLElBQUlELFFBQVEsQ0FBQ0UsU0FBUyxFQUFFO0FBRTFDLE9BQU8sTUFBTUMsWUFBWSxHQUFHQSxDQUFDO0VBQzNCQyxPQUFPO0VBQ1BDLG1CQUFtQjtFQUNuQkMsWUFBWTtFQUNaQztBQUNnQyxDQUFDLEVBQUU7RUFBRUM7QUFBd0IsQ0FBQyxLQUFLO0VBQ25FLE1BQU07SUFBRUMsUUFBUSxFQUFFO01BQUVDO0lBQUs7RUFBQyxDQUFDLEdBQUdILElBQUk7RUFFbEMsSUFBSUcsSUFBSSxLQUFLRixRQUFRLEVBQUU7SUFDckI7RUFDRjtFQUVBLE1BQU07SUFBRUcsVUFBVTtJQUFFQztFQUFzQixDQUFDLEdBQUdSLE9BQU87RUFDckQsTUFBTVMsUUFBUSxHQUFHO0lBQ2ZDLEVBQUUsRUFBRVIsWUFBWSxDQUFFLEdBQUVDLElBQUksQ0FBQ08sRUFBRyxNQUFLLENBQUM7SUFDbENDLElBQUksRUFBRWQsU0FBUyxDQUFDZSxRQUFRLENBQUNULElBQUksQ0FBQ1UsSUFBSSxDQUFDO0lBQ25DQyxRQUFRLEVBQUUsRUFBRTtJQUNaQyxNQUFNLEVBQUVaLElBQUksQ0FBQ08sRUFBRTtJQUNmTCxRQUFRLEVBQUU7TUFDUlcsYUFBYSxFQUFFZixtQkFBbUIsQ0FBQ0UsSUFBSSxDQUFDO01BQ3hDRyxJQUFJLEVBQUU7SUFDUjtFQUNGLENBQUM7RUFFREMsVUFBVSxDQUFDRSxRQUFRLENBQUM7RUFDcEJELHFCQUFxQixDQUFDO0lBQUVPLE1BQU0sRUFBRVosSUFBSTtJQUFFYyxLQUFLLEVBQUVSO0VBQVMsQ0FBQyxDQUFDO0FBQzFELENBQUMifQ==